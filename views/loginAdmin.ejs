<!DOCTYPE html>
<html ng-app="loginapp">
<head>
<script src= "http://ajax.googleapis.com/ajax/libs/angularjs/1.3.14/angular.min.js"></script>
<link rel="stylesheet" href="https://maxcdn.bootstrapcdn.com/bootstrap/3.3.5/css/bootstrap.min.css" integrity="sha512-dTfge/zgoMYpP7QbHy4gWMEGsbsdZeCXz7irItjcC3sPUFtf0kuFbDz/ixG7ArTxmDjLXDmezHubeNikyKGVyQ==" crossorigin="anonymous">
<link rel="stylesheet" href="https://maxcdn.bootstrapcdn.com/bootstrap/3.3.5/css/bootstrap-theme.min.css" integrity="sha384-aUGj/X2zp5rLCbBxumKTCw2Z50WgIr1vs/PFN4praOTvYXWlVyh2UtNUU0KAUhAX" crossorigin="anonymous">
<script src="https://maxcdn.bootstrapcdn.com/bootstrap/3.3.5/js/bootstrap.min.js" integrity="sha512-K1qjQ+NcF2TYO/eI3M6v8EiNYZfA95pQumfvcVrTHtwQVDG+aHRqLi/ETn2uB+1JqwYqVG3LIvdm9lj6imS/pQ==" crossorigin="anonymous"></script>
<link rel='stylesheet' href='/stylesheets/style.css' />
  	<style>
			.header,
			.marketing,
			.footer {
			  padding-right: 15px;
			  padding-left: 15px;
			}
			
			
			.header {
			  border-bottom: 1px solid #e5e5e5;
			}
			
			.header h3 {
			  padding-bottom: 19px;
			  margin-top: 0;
			  margin-bottom: 0;
			  line-height: 40px;
			}
  	</style>
  
</head>
<body>
    
    
    
    <div class="container" ng-controller="logincontroller">
    <h1>Login Page</h1>
	<div class="col-lg-6 well">
	<div class="row">
				<form>
					<div class="col-sm-12">
						<div class="row">
							<div class="col-sm-6 form-group">
								<label>Email</label>
								<input type="text" value= "admin" ng-model="admin.email" placeholder="Enter email here.." class="form-control">
							</div>
							
						</div>					
												
					<div class="form-group">
						<label>Password</label>
						<input type="password" value="admin" placeholder="Enter password here.." ng-model="admin.password" class="form-control" >
					</div>		
					
					<div>
					
					<button type="button" ng-click="login(admin)" class="btn btn-lg btn-info">Login</button>					
					</div>
				</form> 
				</div>
	</div>
	</div>
    <script>
    var app = angular.module('loginapp', []);
    app.controller('logincontroller', function($scope,$http) {
  
    

    $scope.login = function(admin) {
    
		    	$http({
		            method: 'POST',
		            url: '/login',
		            data:$scope.admin
		            }).success(function(data){
		           		if(data.statusCode==200)
		           		{
			           		alert("success");
			           		window.location='./admin/loadadminejs';
		           		}
		           		else if(data.statusCode==201)
		           		{
			           		alert("Rights yet to be given");
			           		window.location='./loginasadmin';
		           		}
		           		else if(data.statusCode==202){		           		
			           		window.location='./admin/counterAdmin';
		           		}
		           		else{
		           			alert("Invalid Credentials");
		           			window.location='/index/loginasadmin';	
		           		}
		           		
		        }).error(function(error){
		            alert("ERROR VIEWING PENDING CUSTOMER REQUEST");
		        });
		    };
    
});
    </script>
    
  </body>
</html>